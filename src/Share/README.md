# Публикация ссылок

Разместив под статьями вашего издания или блога кнопку Опубликовать ВКонтакте,
вы позволите 100 миллионам пользователей ВКонтакте быстро делиться ссылками на
ваши материалы со своими друзьями.

Каждый раз, когда пользователь ВКонтакте нажимает на эту кнопку на вашем сайте,
на его странице ВКонтакте автоматически создаётся заметка со ссылкой на ваш
сайт. После этого друзья пользователя сразу же смогут узнать о статье со
страницы Новости и с личной страницы опубликовавшего пользователя.

Ссылка на ваш сайт навсегда останется доступной всем посетителям страницы
опубликовавшего. Таким образом, ваш сайт сможет привлечь внимание дополнительных
посетителей не только в короткий промежуток после появления новости. Данная
особенность выгодно отличает публикацию ВКонтакте от других методов публикации
в интернете.

Разместить кнопку ВКонтакте на вашем сайте очень просто. Для этого мы предлагаем
воспользоваться конструктором кнопки ниже.

## Подключение виджета

Данный виджет **не** требует подключения Open API. Вместо него, используется
`share.js`

```html
<head>
  <script
    type="text/javascript"
    src="https://vk.com/js/api/share.js?93"
    charset="windows-1251"
  ></script>
</head>
```

## Параметры

Компонент `Share` принимает следующие параметры:

| Параметр     | Тип                                                                                                                       | По умолчанию | Описание                                                                                                                                                           |
| ------------ | ------------------------------------------------------------------------------------------------------------------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `url?`       | string                                                                                                                    |              | URL страницы, ссылка на которую должна быть опубликована. Обратите внимание — кириллические адреса нужно передавать в Punycode.                                    |
| `title?`     | string                                                                                                                    |              | Заголовок публикации. Если параметр не указан, заголовок будет взят со страницы публикации автоматически.                                                          |
| `image?`     | string                                                                                                                    |              | URL изображения для публикации. Если параметр не указан, изображение будет взято со страницы публикации автоматически.                                             |
| `noparse?`   | true                                                                                                                      |              | Если в этом параметре передано значение true, то сервер ВКонтакте не будет делать дополнительный запрос для загрузки недостающей информации с публикуемой страницы |
| `noVkLinks?` | true                                                                                                                      |              | В окне публикации не будет активных ссылок на профиль пользователя (доступно только на мобильных устройствах).                                                     |
| `type?`      | 'round' &#124; 'round_nocount' &#124; 'button' &#124; 'button_nocount' &#124; 'link' &#124; 'link_noicon' &#124; 'custom' | `'round'`    | Тип кнопки                                                                                                                                                         |
| `text?`      | string                                                                                                                    |              | Задаёт текст на кнопке, для типа custom этот параметр задаёт **HTML-код** кнопки.                                                                                  |

Типы кнопок:

- `round` — кнопка со скругленными углами и со счётчиком (по умолчанию);
- `round_nocount` — кнопка со скругленными углами без счётчика;
- `button` — кнопка с прямыми углами и со счетчиком;
- `button_nocount` — кнопка с прямыми углами без счётчика ссылок;
- `link` — текстовая ссылка с иконкой ВКонтакте;
- `link_noicon` — текстовая ссылка без иконки;
- `custom` — свой собственный код кнопки, задаётся в параметре `text`.

### Данные для публикации

В случае, если параметры `pageTitle`, `pageImage` не указаны, заголовок страницы
и миниатюра будут определены автоматически на основании тегов микроразметки
Open Graph.

Сервер ВКонтакте загружает содержимое публикуемой страницы и выполняет поиск
необходимых параметров:

- Заголовок. Если на публикуемой странице есть теги `og:title`,
  `mrc__share_title` или `twitter:title`, то заголовок будет взят из одного из
  них (указанного первым), иначе будет использован тег `<title>`.

- Иллюстрация. Если на публикуемой странице есть теги `og:image`,
  `twitter:image`, `image`, то адрес изображения для иллюстрации будет взят из
  указанного первым, иначе будут взяты первые 8 тегов `<img src="...">`, и из них
  предложены в качестве иллюстрации те картинки, размер которых по ширине и
  высоте превышает 130 пикселей. Если картинка больше 537 пикселей в ширину, то
  на сайте ссылка будет сопровождаться увеличенной картинкой.

Пример кода сайта с указанием данных заголовка, описания и изображения для
иллюстрации, используемых для публикации ВКонтакте:

```html
<head>
  <meta property="og:title" content="Заголовок страницы" />
  <meta
    property="og:image"
    content="https://pp.vk.me/c629531/v629531034/3172e/xEBYyER1WE4.jpg"
  />
</head>
```

**Важно!** Данные для публикации могут кэшироваться. Если вы изменили данные на
своем сайте, а ВКонтакте при публикации отображаются старые значения, сбросьте
кэш для ссылки на странице [pages.clearCache](https://dev.vk.com/method/pages.clearCache).
